{% extends "layout.html" %}

{% block head %}
    <!-- Script for place order page -->
    <script src="/static/place-order.js"></script>
{% endblock %}

{% block title %}
    Order Now
{% endblock %}

{% block main %}
    <div class="container-medium">
        
        <div class="row">
            <!-- We use Bootstrap's grid system to center our order form on the screen by assigning column classes (12-column grid) -->
                <div class="row mx-0">
                    <div class="mx-auto mt-4">
                        <div class="position-relative m-4">
                            <!-- TODO: move styling to css file -->
                            <div class="progress" style="height: 1px;">
                                <div class="progress-bar" role="progressbar" style="width: 0%; background-color: var(--blue);"></div>
                            </div>
                            <button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-primary rounded-pill" style="width: 2rem; height:2rem; background-color:white; border: 3px solid var(--blue);"></button>
                            <button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill" style="width: 2rem; height:2rem;"></button>
                            <button type="button" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill" style="width: 2rem; height:2rem;"></button>
                        </div>
                        TODO progress bar
                    </div>
                </div>

                <div class="row mx-0">
                    <div class="order-form">
                        <h2 class="mb-3 fw-bold">Order Form</h2>
                        
                        <form id="place-order-form" action="/review-order" method="post">
                            <!-- For container type, we're using radio buttons with images (by grouping them together in a div container) -->
                            <!-- We added a click listener to the container so that the user can just click anywhere inside the container to select the radio option -->
                            <div class="mb-3">
                                <label for="container-type" class="form-label text-start">Container type:</label>
                                <br>
                                <div class="row">
                                    <div class="form-check-image-group col mx-2" id="round-container-option">
                                        <img class="form-check-image text-center position-relative start-50 translate-middle-x mb-2" src="/static/round-container.jpg" width="150" height="150">
                                        <div class="form-check text-center">
                                            <input class="form-check-input" type="radio" id="round-container" value="round-container" name="container-type">
                                            <label for="round-container" class="form-check-label">Round container</label>
                                        </div>
                                    </div>
                                    <div class="form-check-image-group col mx-2" id="slim-container-option">
                                        <img class="form-check-image position-relative start-50 translate-middle-x mb-2" src="/static/slim-container.jpg" width="150" height="150">
                                        <div class="form-check text-center">
                                            <input class="form-check-input" type="radio" id="slim-container" value="slim-container" name="container-type">
                                            <label for="slim-container" class="form-check-label">Slim container</label>
                                        </div>
                                    </div>
                                    <div class="form-text"><strong>Note:</strong> If you wish to order both round and slim containers, please submit separate order forms for each type of container.</div>
                                </div>
                            </div>

                            <div class="mb-2">
                                <label class="form-label text-start" for="quantity">Quantity (containers):</label>
                                <input class="form-control text-end input-group-entry" type="number" id="quantity" name="quantity" min="0" placeholder="">
                            </div>
                            
                            <div class="mb-2">
                                <label class="form-label text-start" for="swap-or-new" >Swap or buy new container:</label>
                                <select class="form-select w-100 no-selection text-end input-group-entry" id="swap-or-new" name="swap-or-new">
                                    <option selected disabled>Select option</option>
                                    <option value="Swap">Swap with my existing container(s)</option>
                                    <option value="New">Buy new container(s)</option>
                                </select>
                            </div>

                            <div class="input-group">
                                <span class="input-group-text">Price per unit:</span>
                                <input class="form-control text-end form-read-only" read-only type="text" id="price" name="price" value="-">
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text">Subtotal:</span>
                                <input class="form-control text-end form-read-only fw-bold" read-only  type="text" id="subtotal" name="subtotal" value="-">
                            </div>

                            <div class="mb-2">
                                <label class="form-label text-start" for="delivery-mode" >Pick up at store or deliver to address:</label>
                                <select class="form-select w-100 no-selection text-end input-group-entry" id="delivery-mode" name="delivery-mode">
                                    <option selected disabled>Select option</option>
                                    <option value="Pick up">Pick up at store</option>
                                    <option value="Delivery">Deliver to address</option>
                                </select>            
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text">Delivery fee:</span>
                                <input class="form-control text-end form-read-only" read-only type="text" id="delivery-fee" name="delivery-fee" value="-">
                            </div>

                            <hr>

                            <div class="input-group">
                                <span class="input-group-text fs-3">Total price:</span>
                                <input class="form-control text-end form-read-only fw-bold fs-3" read-only  type="text" id="total" name="total" value="-">
                            </div>
                            
                            <hr class="mb-4">

                            <div class="row">
                                <button class="btn btn-primary" disabled id="place-order" type="button">Place order</button>
                            </div>
                            
                        </form>

                    </div>
                </div>

            <!--
            -   Choose between round containers or slim containers (ok)
            -   Input quantity (ok)
            -   Show price per unit and total price for given quantity (ok)
            -   Select if for pickup or for delivery (ok)
            -   If for delivery, request for address and add option to schedule delivery or deliver immediately; Delivery to be handled in another page-->
        </div>
    </div>
{% endblock %}